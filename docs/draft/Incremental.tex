\chapter{一辺挿入時の媒介中心性更新法}
\label{chap:update-bc-on-insert}
本章では，$G=(V,E)$に辺$e=\{v,w\} \not\in E$を挿入して得られるグラフを
$G'=(V,E')$とする．$G'$における頂点$s$から頂点$t\,(\neq s)$への最短経路を
有向グラフ$G'_{st}=(V'_{st},E'_{st})$で表し，すべての頂点から頂点$s$への最短経路を
有向グラフ$G'_s=(V,E'_s)$で表す．また，$G'$における頂点$s$から頂点$t\,(\neq s)$への
最短経路の個数と長さをそれぞれ$\sigma'_{st}$, $d'_{st}$で表す．

\section{最短経路長および最短経路数の更新}
\label{sect:update-augdist-on-insert}

挿入後の頂点$z$への最短経路長$d'_{xz}$および最短経路数$\sigma'_{xz}$を求めるアルゴリズムについて説明する．

\begin{lemma-without-proof}
  \textcolor{red}{TODO}
  頂点$v$が$d'_{xz}<d_{xz}$または...を満たすための必要十分条件は以下である．
  \begin{equation*}
    d_{vz}>l_{vw}+d_{wz}
  \end{equation*}
\end{lemma-without-proof}

頂点$x\in G$が変化することが分かった時，次の式を用いて挿入後の距離$d'_{xz}$をもとめる．

\begin{corollary-without-proof}
  \begin{equation*}
    d'_{xz}=l_{xy}+d'_{yz} (y\mathrm{は条件の}y.)
  \end{equation*}
\end{corollary-without-proof}

\section{ペア依存度の更新}
\label{sect:update-delta-on-delete}

挿入後のペア依存度$\delta'_z(x)$をBrandesのアルゴリズムによって求める．
具体的には，\ref{sect:update-augdist-on-insert}で求めた影響を受ける頂点から，
$d'_{xz}$の降順となるように次式を計算しながら走査する．

\[ \delta'_{z}(x)\gets\sum_{(y,x)\in E_z}\frac{\sigma'_{xz}}{\sigma'_{yz}}(1+\delta'_z(y)) \]
